# Standalone Product Tree Manager

A standalone tool for importing, viewing, and managing Product Tree XML files with intelligent analysis assistance. This tool replicates the functionality of the Futurematic Product Tree tool but runs independently.

## Features

- **XML Import**: Import Product Tree XML files generated by the "Product Tree from Jira" tool
- **Tree Visualization**: Interactive tree view with expand/collapse functionality
- **Search**: Search through nodes by title and description
- **Export**: Export back to XML or Jira CSV format
- **Intelligent Analysis**: Chat with an internal analysis engine for product tree insights and suggestions
- **Work Item Details**: View detailed information about work items

## Quick Start

### üåê Web Deployment (Recommended for Sharing)

**For Web Deployment:**
1. **Use the `web/` folder** - contains browser-only version
2. **Deploy to any web host** (GitHub Pages, Netlify, Vercel, etc.)
3. **No setup required** - works entirely in the browser
4. **See `web/README.md`** for detailed deployment instructions

### üñ•Ô∏è Local Installation

**üéØ Easiest Method:**
1. **Open `OPEN-ME.html`** in your browser (double-click it in Finder)
2. **Follow the simple instructions** to start services
3. **Click "Open Product Tree Manager"** when ready

**‚ö° Alternative Methods:**

**Option 1: Double-Click to Start Everything**
1. **Double-click `START-HERE.command`** in Finder
2. **Open `ui/index.html`** in your browser
3. **That's it!** Everything will start automatically

**Option 2: Terminal Commands**
1. **Start everything:**
   ```bash
   cd standalone-tools/manage-product-tree
   ./start-everything.sh
   ```
2. **Open `ui/index.html`** in your browser

**Option 3: Direct Access**
1. **Just open `ui/index.html`** in your browser
2. **Follow the on-screen instructions** to start services
   - Be ready to import and manage Product Tree XML files

## Features

### Product Tree Management
- **Import XML**: Drag & drop Product Tree XML files
- **View Tree**: Interactive tree with expand/collapse and search
- **Node Details**: Click any node to view detailed information
- **CRUD Operations**: Create, edit, and delete nodes
- **Add Children**: Add child nodes to any parent node
- **Export**: Download as XML or Jira CSV

### AI-Powered Analysis
- **Real AI Model**: Uses Ollama with llama3.2:3b model
- **Context-Aware**: Analyzes your actual product tree data
- **CRUD Assistance**: AI can help create, update, and manage nodes
- **Strategic Insights**: Get recommendations and analysis
- **Natural Language**: Ask questions in plain English

### Manual Setup (If Needed)

1. **Start the application:**
   ```bash
   cd standalone-tools/manage-product-tree
   ./start.sh
   ```

2. **Access the application:**
   - UI: http://localhost:3000
   - Analysis API: http://localhost:8081

### Manual Setup

#### Frontend (UI)

1. **Serve the UI files:**
   ```bash
   cd standalone-tools/manage-product-tree/ui
   # Using Python
   python -m http.server 8000
   # Or using Node.js
   npx serve .
   # Or using any web server
   ```

2. **Access at:** http://localhost:8000

#### Backend (Dot Service)

1. **Install dependencies:**
   ```bash
   cd standalone-tools/manage-product-tree/dot
   pip install -r requirements.txt
   ```

2. **Run the service:**
   ```bash
   python main.py
   ```

3. **Service runs at:** http://localhost:8080

## Usage

### Importing XML

1. **Prepare your XML file:**
   - Use the "Product Tree from Jira" tool to generate XML from Jira CSV
   - Or create XML manually following the Product Tree format

2. **Import the file:**
   - Drag and drop the XML file onto the drop zone
   - Or use the file input to select the file

3. **View the tree:**
   - The tree will be rendered with expand/collapse functionality
   - Use search to filter nodes
   - Click on work items to view details

### Intelligent Analysis

The internal analysis engine can help you with:

- **Tree Analysis**: Analyze the overall structure and distribution
- **Status Review**: Review status distribution across nodes
- **Priority Analysis**: Analyze priority levels and suggest improvements
- **Team Distribution**: Review team assignments and workload
- **Goal Analysis**: Analyze goals and their progress
- **Job/Epic Review**: Review jobs/epics and their effort estimates
- **Work Item Analysis**: Analyze work items and stories
- **Improvement Suggestions**: Get specific suggestions for improving your product tree

**Note**: This is not a real AI model - it's a rule-based analysis engine that provides intelligent insights based on your product tree data.

### Export Options

- **Export XML**: Download the current tree as XML
- **Export Jira CSV**: Download as Jira-compatible CSV for import

## API Endpoints

### Analysis Service (http://localhost:8081)

- `GET /health` - Health check
- `POST /ai/chat` - Chat with analysis engine
- `GET /ai/models` - List available analysis models

### Analysis API Example

```bash
curl -X POST http://localhost:8081/ai/chat \
  -H "Content-Type: application/json" \
  -d '{
    "message": "Analyze my product tree",
    "context": {
      "productTree": {
        "nodes": [...],
        "edges": [...]
      }
    }
  }'
```

## File Structure

```
standalone-tools/manage-product-tree/
‚îú‚îÄ‚îÄ ui/
‚îÇ   ‚îú‚îÄ‚îÄ index.html          # Main HTML file
‚îÇ   ‚îú‚îÄ‚îÄ styles.css          # Styling (matches product-tree-from-jira)
‚îÇ   ‚îî‚îÄ‚îÄ app.js              # JavaScript application
‚îú‚îÄ‚îÄ dot/
‚îÇ   ‚îú‚îÄ‚îÄ main.py             # FastAPI Dot service
‚îÇ   ‚îú‚îÄ‚îÄ requirements.txt    # Python dependencies
‚îÇ   ‚îî‚îÄ‚îÄ Dockerfile          # Docker configuration
‚îú‚îÄ‚îÄ docker-compose.yml      # Docker Compose configuration
‚îî‚îÄ‚îÄ README.md              # This file
```

## Styling

The tool uses the same styling as the "Product Tree from Jira" tool:
- **Fonts**: Libre Baskerville (body), Sofia Sans Extra Condensed (headings)
- **Colors**: Off-white background (#F2EFEA), teal highlights (#0E9DA0)
- **Layout**: Clean, modern interface with panels and cards

## Local AI Model Integration

The standalone version supports both local AI models and an internal analysis engine:

### Local AI Model (Recommended)
- **Ollama Support**: Works with Ollama running locally
- **OpenAI-Compatible**: Supports LM Studio, vLLM, and other OpenAI-compatible APIs
- **Context-Aware**: Analyzes your product tree data and provides intelligent insights
- **Real AI**: Uses actual AI models for natural language understanding and analysis

### Internal Analysis Engine (Fallback)
- Rule-based system that analyzes your product tree data
- Provides intelligent insights based on predefined patterns and heuristics
- Used when local AI model is not available

### Setting Up Local AI Model

1. **Install Ollama** (recommended):
   ```bash
   # macOS
   brew install ollama
   
   # Or download from https://ollama.ai
   ```

2. **Pull a model**:
   ```bash
   ollama pull llama3.2:3b  # Lightweight model
   # or
   ollama pull llama3.2:1b  # Even lighter
   ```

3. **Start Ollama**:
   ```bash
   ollama serve
   ```

4. **Configure the service** (optional):
   ```bash
   export LOCAL_MODEL_ENDPOINT="http://localhost:11434"
   export LOCAL_MODEL_NAME="llama3.2:3b"
   export AI_INTEGRATION_ENABLED="true"
   ```

## Troubleshooting

### Connection Issues

1. **Check if Analysis service is running:**
   ```bash
   curl http://localhost:8081/health
   ```

2. **Check if Python process is running:**
   ```bash
   ps aux | grep "python.*main.py"
   ```

3. **View logs:**
   ```bash
   # Check the terminal where you started the service
   # Or look for any error messages in the console
   ```

### AI Model Issues

1. **Test AI model connection:**
   ```bash
   curl http://localhost:8081/ai/test
   ```

2. **Check if Ollama is running:**
   ```bash
   curl http://localhost:11434/api/tags
   ```

3. **Verify model is available:**
   ```bash
   ollama list
   ```

4. **Start Ollama if not running:**
   ```bash
   ollama serve
   ```

### Import Issues

1. **Verify XML format:** Ensure the XML follows the Product Tree format
2. **Check browser console:** Look for JavaScript errors
3. **Try a sample file:** Use the sample XML from the "Product Tree from Jira" tool

## Development

### Adding New Features

1. **Frontend changes:** Edit files in `ui/`
2. **Backend changes:** Edit files in `dot/`
3. **Rebuild containers:** `docker-compose build`
4. **Restart services:** `docker-compose up -d`

### Extending AI Model

Edit `dot/main.py` to add new AI capabilities:
- Add new analysis methods to `InternalAIModel`
- Extend keyword matching in `generate_response`
- Add new response templates

## License

MIT License - Same as the main Futurematic project.
